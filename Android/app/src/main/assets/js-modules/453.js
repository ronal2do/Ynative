__d(function(t,e,o,n){Object.defineProperty(n,"__esModule",{value:!0});var r=e(160),i=babelHelpers.interopRequireDefault(r),l=e(12),a=l.Dimensions.get("window"),s=a.width,p=a.height,u={container:{backgroundColor:"transparent",position:"relative"},wrapper:{backgroundColor:"transparent"},slide:{backgroundColor:"transparent"},pagination_x:{position:"absolute",bottom:25,left:0,right:0,flexDirection:"row",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},pagination_y:{position:"absolute",right:15,top:0,bottom:0,flexDirection:"column",flex:1,justifyContent:"center",alignItems:"center",backgroundColor:"transparent"},title:{height:30,justifyContent:"center",position:"absolute",paddingLeft:10,bottom:-30,left:0,flexWrap:"nowrap",width:250,backgroundColor:"transparent"},buttonWrapper:{backgroundColor:"transparent",flexDirection:"row",position:"absolute",top:0,left:0,flex:1,paddingHorizontal:10,paddingVertical:10,justifyContent:"space-between",alignItems:"center"},buttonText:{fontSize:50,color:"#007aff",fontFamily:"Arial"}},d=function(t){function e(){var t,o,n,r;babelHelpers.classCallCheck(this,e);for(var a=arguments.length,s=Array(a),p=0;p<a;p++)s[p]=arguments[p];return o=n=babelHelpers.possibleConstructorReturn(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),n.state=n.initState(n.props,!0),n.autoplayTimer=null,n.loopJumpTimer=null,n.loopJump=function(){if(n.state.loopJump){var t=n.state.index+(n.props.loop?1:0),e=n.refs.scrollView;n.loopJumpTimer=setTimeout(function(){return e.setPageWithoutAnimation&&e.setPageWithoutAnimation(t)},50)}},n.autoplay=function(){Array.isArray(n.props.children)&&n.props.autoplay&&!n.internals.isScrolling&&!n.state.autoplayEnd&&(n.autoplayTimer&&clearTimeout(n.autoplayTimer),n.autoplayTimer=setTimeout(function(){return n.props.loop||(n.props.autoplayDirection?n.state.index!==n.state.total-1:0!==n.state.index)?void n.scrollBy(n.props.autoplayDirection?1:-1):n.setState({autoplayEnd:!0})},1e3*n.props.autoplayTimeout))},n.onScrollBegin=function(t){n.internals.isScrolling=!0,n.props.onScrollBeginDrag&&n.props.onScrollBeginDrag(t,n.fullState(),n)},n.onScrollEnd=function(t){n.internals.isScrolling=!1,t.nativeEvent.contentOffset||("x"===n.state.dir?t.nativeEvent.contentOffset={x:t.nativeEvent.position*n.state.width}:t.nativeEvent.contentOffset={y:t.nativeEvent.position*n.state.height}),n.updateIndex(t.nativeEvent.contentOffset,n.state.dir,function(){n.autoplay(),n.loopJump(),n.props.onMomentumScrollEnd&&n.props.onMomentumScrollEnd(t,n.fullState(),n)})},n.onScrollEndDrag=function(t){var e=t.nativeEvent.contentOffset,o=n.props,r=o.horizontal,i=o.children,l=n.state.index,a=n.internals.offset,s=r?a.x:a.y,p=r?e.x:e.y;s!==p||0!==l&&l!==i.length-1||(n.internals.isScrolling=!1)},n.updateIndex=function(t,e,o){var r=n.state,i=r.index,l=t[e]-n.internals.offset[e],a="x"===e?r.width:r.height,s=!1;if(l){i=parseInt(i+Math.round(l/a)),n.props.loop&&(i<=-1?(i=r.total-1,t[e]=a*r.total,s=!0):i>=r.total&&(i=0,t[e]=a,s=!0));var p={};p.index=i,p.loopJump=s,n.internals.offset=t,s?t[e]===n.state.offset[e]?(p.offset={x:0,y:0},p.offset[e]=t[e]+1,n.setState(p,function(){n.setState({offset:t},o)})):(p.offset=t,n.setState(p,o)):n.setState(p,o)}},n.scrollBy=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(n.internals.isScrolling||n.state.total<2)){var o=n.state,r=(n.props.loop?1:0)+t+n.state.index,i=0,a=0;"x"===o.dir&&(i=r*o.width),"y"===o.dir&&(a=r*o.height),"android"===l.Platform.OS?n.refs.scrollView&&n.refs.scrollView[e?"setPage":"setPageWithoutAnimation"](r):n.refs.scrollView&&n.refs.scrollView.scrollTo({x:i,y:a,animated:e}),n.internals.isScrolling=!0,n.setState({autoplayEnd:!1}),e&&"android"!==l.Platform.OS||setImmediate(function(){n.onScrollEnd({nativeEvent:{position:r}})})}},n.scrollViewPropOverrides=function(){var t=n.props,e={};for(var o in t)"function"==typeof t[o]&&"onMomentumScrollEnd"!==o&&"renderPagination"!==o&&"onScrollBeginDrag"!==o&&!function(){var r=t[o];e[o]=function(t){return r(t,n.fullState(),n)}}();return e},n.renderPagination=function(){if(n.state.total<=1)return null;for(var t=[],e=n.props.activeDot||i.default.createElement(l.View,{style:[{backgroundColor:n.props.activeDotColor||"#007aff",width:8,height:8,borderRadius:4,marginLeft:3,marginRight:3,marginTop:3,marginBottom:3},n.props.activeDotStyle]}),o=n.props.dot||i.default.createElement(l.View,{style:[{backgroundColor:n.props.dotColor||"rgba(0,0,0,.2)",width:8,height:8,borderRadius:4,marginLeft:3,marginRight:3,marginTop:3,marginBottom:3},n.props.dotStyle]}),r=0;r<n.state.total;r++)t.push(r===n.state.index?i.default.cloneElement(e,{key:r}):i.default.cloneElement(o,{key:r}));return i.default.createElement(l.View,{pointerEvents:"none",style:[u["pagination_"+n.state.dir],n.props.paginationStyle]},t)},n.renderTitle=function(){var t=n.props.children[n.state.index],e=t&&t.props&&t.props.title;return e?i.default.createElement(l.View,{style:u.title},n.props.children[n.state.index].props.title):null},n.renderNextButton=function(){var t=null;return(n.props.loop||n.state.index!==n.state.total-1)&&(t=n.props.nextButton||i.default.createElement(l.Text,{style:u.buttonText},"\u203a")),i.default.createElement(l.TouchableOpacity,{onPress:function(){return null!==t&&n.scrollBy(1)}},i.default.createElement(l.View,null,t))},n.renderPrevButton=function(){var t=null;return(n.props.loop||0!==n.state.index)&&(t=n.props.prevButton||i.default.createElement(l.Text,{style:u.buttonText},"\u2039")),i.default.createElement(l.TouchableOpacity,{onPress:function(){return null!==t&&n.scrollBy(-1)}},i.default.createElement(l.View,null,t))},n.renderButtons=function(){return i.default.createElement(l.View,{pointerEvents:"box-none",style:[u.buttonWrapper,{width:n.state.width,height:n.state.height},n.props.buttonWrapperStyle]},n.renderPrevButton(),n.renderNextButton())},n.renderScrollView=function(t){return"ios"===l.Platform.OS?i.default.createElement(l.ScrollView,babelHelpers.extends({ref:"scrollView"},n.props,n.scrollViewPropOverrides(),{contentContainerStyle:[u.wrapper,n.props.style],contentOffset:n.state.offset,onScrollBeginDrag:n.onScrollBegin,onMomentumScrollEnd:n.onScrollEnd,onScrollEndDrag:n.onScrollEndDrag}),t):i.default.createElement(l.ViewPagerAndroid,babelHelpers.extends({ref:"scrollView"},n.props,{initialPage:n.props.loop?n.state.index+1:n.state.index,onPageSelected:n.onScrollEnd,style:{flex:1}}),t)},r=o,babelHelpers.possibleConstructorReturn(n,r)}return babelHelpers.inherits(e,t),babelHelpers.createClass(e,[{key:"componentWillReceiveProps",value:function(t){var e=(t.width||s)!==this.state.width||(t.height||p)!==this.state.height;!t.autoplay&&this.autoplayTimer&&clearTimeout(this.autoplayTimer),this.setState(this.initState(t,e))}},{key:"componentDidMount",value:function(){this.autoplay()}},{key:"componentWillUnmount",value:function(){this.autoplayTimer&&clearTimeout(this.autoplayTimer),this.loopJumpTimer&&clearTimeout(this.loopJumpTimer)}},{key:"initState",value:function t(e,o){var n=this.state||{},t={autoplayEnd:!1,loopJump:!1},r={isScrolling:!1};if(t.total=e.children?e.children.length||1:0,n.total===t.total?t.index=n.index:(o=!0,t.index=t.total>1?Math.min(e.index,t.total-1):0),t.dir=e.horizontal===!1?"y":"x",t.width=e.width||s,t.height=e.height||p,r.offset={},t.total>1){var i=t.index;e.loop&&i++,r.offset[t.dir]="y"===t.dir?t.height*i:t.width*i}return o&&(t.offset=r.offset),this.internals=r,t}},{key:"fullState",value:function(){return babelHelpers.extends({},this.state,this.internals)}},{key:"render",value:function(){var t=this.state,e=this.props,o=e.children,n=t.index,r=t.total,a=e.loop,s=a?1:0,p=[],d=[{width:t.width,height:t.height},u.slide],c={width:this.state.width,height:this.state.height,justifyContent:"center",alignItems:"center"};return r>1?(p=Object.keys(o),a&&(p.unshift(r-1+""),p.push("0")),p=p.map(function(t,r){return e.loadMinimal?r>=n+s-e.loadMinimalSize&&r<=n+s+e.loadMinimalSize?i.default.createElement(l.View,{style:d,key:r},o[t]):i.default.createElement(l.View,{style:c,key:"loading-"+r},e.loadMinimalLoader?e.loadMinimalLoader:i.default.createElement(l.ActivityIndicator,null)):i.default.createElement(l.View,{style:d,key:r},o[t])})):p=i.default.createElement(l.View,{style:d,key:0},o),i.default.createElement(l.View,{style:[u.container,{width:t.width,height:t.height}]},this.renderScrollView(p),e.showsPagination&&(e.renderPagination?this.props.renderPagination(t.index,t.total,this):this.renderPagination()),this.renderTitle(),this.props.showsButtons&&this.renderButtons())}}]),e}(r.Component);d.propTypes={horizontal:r.PropTypes.bool,children:r.PropTypes.node.isRequired,style:l.View.propTypes.style,pagingEnabled:r.PropTypes.bool,showsHorizontalScrollIndicator:r.PropTypes.bool,showsVerticalScrollIndicator:r.PropTypes.bool,bounces:r.PropTypes.bool,scrollsToTop:r.PropTypes.bool,removeClippedSubviews:r.PropTypes.bool,automaticallyAdjustContentInsets:r.PropTypes.bool,showsPagination:r.PropTypes.bool,showsButtons:r.PropTypes.bool,loadMinimal:r.PropTypes.bool,loadMinimalSize:r.PropTypes.number,loadMinimalLoader:r.PropTypes.element,loop:r.PropTypes.bool,autoplay:r.PropTypes.bool,autoplayTimeout:r.PropTypes.number,autoplayDirection:r.PropTypes.bool,index:r.PropTypes.number,renderPagination:r.PropTypes.func,dotStyle:r.PropTypes.object,activeDotStyle:r.PropTypes.object,dotColor:r.PropTypes.string,activeDotColor:r.PropTypes.string},d.defaultProps={horizontal:!0,pagingEnabled:!0,showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!1,bounces:!1,scrollsToTop:!1,removeClippedSubviews:!0,automaticallyAdjustContentInsets:!1,showsPagination:!0,showsButtons:!1,loop:!0,loadMinimal:!1,loadMinimalSize:1,autoplay:!1,autoplayTimeout:2.5,autoplayDirection:!0,index:0},n.default=d},453);